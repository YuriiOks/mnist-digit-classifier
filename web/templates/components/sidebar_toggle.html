<div class="toggle-container">
    <!-- Changed to a div to avoid default button styling issues -->
    <div class="theme-toggle-sidebar" id="sidebar-theme-toggle" title="Toggle dark/light mode">
        <span class="icon">${THEME_ICON}</span>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const sidebarToggle = document.getElementById('sidebar-theme-toggle');
        if (sidebarToggle) {
            sidebarToggle.addEventListener('click', function() {
                // Always use URL parameter method to trigger theme toggle
                const url = new URL(window.location);
                url.searchParams.set('toggle_theme', 'true');
                window.location.href = url.toString();
            });
        }
    });
</script> 